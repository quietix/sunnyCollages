function showpopup(e,t){document.body.classList.add("td-body_popup-opened");var o=document.querySelector(e);o&&(o.classList.add("td-popup_opened"),(e=o.querySelector(".td-popup-window"))&&(e.innerHTML=t),o.style.opacity="0",o.style.display="block",o.style.transition="opacity 300ms ease-out",setTimeout(function(){o.style.opacity="1"},0)),document.addEventListener("keyup",keyUpFunc),delete window.pspopup_isChanged}function closepopup(){if(void 0!==window.pspopup_isChanged&&"y"===window.pspopup_isChanged&&(console.log("closed without saving changes"),!confirm("RU"===lang?"Последние изменения не сохранены. Закрыть панель?":"You have unsaved changes. Are you sure you want to close this panel?")))return;document.body.classList.remove("td-body_popup-opened");var e,t=document.querySelector(".td-popup_opened");t&&("notdelete"===t.getAttribute("data-popup-content")||(e=t.querySelector(".td-popup-window"))&&(e.innerHTML=""),t.style.transition="opacity 300ms ease-in",setTimeout(function(){t.style.opacity="0"},0),setTimeout(function(){t.style.display="none",t.style.removeProperty("opacity")},300)),document.removeEventListener("keyup",keyUpFunc),delete window.pspopup_isChanged}function init_popup(){function t(e){(e=e.target.closest(".td-item-group"))&&e.classList.add("td-item-group_active")}function o(e){"mouseleave"===e.type&&document.activeElement===this||(e=e.target.closest(".td-item-group"))&&e.classList.remove("td-item-group_active")}var e=document.querySelectorAll(".td-item-group input");Array.prototype.forEach.call(e,function(e){e.addEventListener("mouseenter",t),e.addEventListener("focus",t),e.addEventListener("mouseleave",o),e.addEventListener("blur",o)});var n,i=document.querySelector(".td-popup-menu__wrapper"),p=document.getElementById("td_popup_menu__line"),e=i&&i.querySelector(".td-popup-menu__item_active");i&&p&&e&&(i=e.getBoundingClientRect().left+window.pageXOffset-(n=i.getBoundingClientRect().left+window.pageXOffset),e=e.offsetWidth,p.style.left=i+"px",p.style.width=e+"px",e=document.querySelectorAll(".td-popup-menu__item"),Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){var e=this.getBoundingClientRect().left+window.pageXOffset-n;p.style.transitionProperty||(p.style.transitionProperty="width, left"),p.style.transitionTimingFunction||(p.style.transitionTimingFunction="ease-in-out"),p.style.transitionDuration||(p.style.transitionDuration="400ms"),p.style.width=this.offsetWidth+"px",p.style.left=e+"px"})}))}function keyUpFunc(e){27===e.keyCode&&closepopup()}function showbyid_and_hidebutton(e,t){e=document.querySelector(e);e&&(e.style.display="block");t=document.querySelector(t);t&&(t.style.display="none")}function switchtab(e){var t=document.querySelector(".td-tab-content .td-tab-pane_active");t&&t.classList.remove("td-tab-pane_active");e=document.querySelector(e);e&&e.classList.add("td-tab-pane_active")}function getCookie(e){e=("; "+document.cookie).split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}return null});
