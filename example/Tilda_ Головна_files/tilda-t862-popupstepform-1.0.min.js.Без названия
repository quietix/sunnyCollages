function t862_init(t){var r=document.getElementById("rec"+t);if(r&&r.querySelector(".t862")){var n=r.querySelector(".t862__quiz-wrapper"),s=r.querySelector(".t-form");if(s){var i,e=r.querySelectorAll(".t-input-group"),l=r.querySelector(".t862__btn_prev"),o=r.querySelector(".t862__btn_next"),u=r.querySelector(".t862__btn_result"),t=r.querySelector(".t-form__errorbox-middle"),a=0;t&&(i=t.querySelector(".t-form__errorbox-wrapper")),t.insertAdjacentHTML("beforebegin",'<div class="t862__capture-form"></div>'),s.classList.remove("js-form-proccess"),e[a].style.display="block",e[a].classList.add("t-input-group-step_active"),r.setAttribute("data-animationappear","off"),r.style.opacity=1,t862_workWithAnswerCode(r);for(var c=0;c<e.length;c++)e[c].setAttribute("data-question-number",c);t862_wrapCaptureForm(r);var p=r.querySelector(".t862__capture-form"),t=r.querySelector(".t862__result-title"),_=t?t.textContent:"";t862_showCounter(r,a),t862_disabledPrevBtn(r,a),t862_checkLength(r),t862_openToHook(r,e,p),l.addEventListener("click",function(t){0<a&&a--,t862_setProgress(r,-1),t862__checkMode(),t862_awayFromResultScreen(r),t862_showCounter(r,a),t862_hideError(r,a),t862_disabledPrevBtn(r,a),t862_switchQuestion(r,a),t862_resizePopup(r),t.preventDefault()}),o.addEventListener("click",function(t){var e=t862_showError(r,n,a);e&&i&&(i.style.display="none"),e||(a++,l.removeAttribute("disabled"),t862_setProgress(r,1),t862_showCounter(r,a),t862_switchQuestion(r,a),t862_resizePopup(r)),t862__checkMode(),t.preventDefault()});for(c=0;c<e.length;c++)e[c].addEventListener("keypress",function(t){var e,o=s.querySelector(".t-input-group-step_active");"Enter"!==t.code&&13!==t.keyCode||s.classList.contains("js-form-proccess")||o.classList.contains("t-input-group_ta")||(e=t862_showError(r,n,a),o=t862_createQuestionArr(r),e&&i&&(i.style.display="none"),l.removeAttribute("disabled"),e||(a++,t862_setProgress(r,1),t862_showCounter(r,a),a<o.length?t862_switchQuestion(r,a):(t862_switchResultScreen(r),s.classList.add("js-form-proccess")),t862_disabledPrevBtn(r,a)),t862__checkMode(),t.preventDefault())});u.addEventListener("click",function(t){var e=t862_showError(r,n,a);e&&i&&(i.style.display="none"),e||(a++,t862_setProgress(r,1),s.classList.add("js-form-proccess"),t862_disabledPrevBtn(r,a),p.innerHTML||_?t862_switchResultScreen(r):(t862_showCounter(r,a),t862_switchQuestion(r,a))),t.preventDefault()})}}}function t862_workWithAnswerCode(t){for(var e,o=t.querySelectorAll(".t-input-group_ri input"),r=t.querySelectorAll(".t-input-group_rd input"),n=t.querySelectorAll(".t-input-group_sb option"),s=0;s<o.length;s++)-1!==(i=o[s]).value.indexOf("value::")&&(t862_setAnswerCode(i),(e=i.parentNode.querySelector(".t-img-select__text"))&&(e.textContent=e.textContent.split("value::")[0].trim()));for(var i,l,s=0;s<r.length;s++)-1!==(i=r[s]).value.indexOf("value::")&&(t862_setAnswerCode(i),(l=i.parentNode)&&(l.innerHTML=l.innerHTML.split("value::")[0].trim()));for(s=0;s<n.length;s++){var u=n[s];-1!==u.value.indexOf("value::")&&(t862_setAnswerCode(u),u.textContent=u.textContent.split("value::")[0].trim())}}function t862_setAnswerCode(t){t.value=t.value.split("value::")[1].trim()}function t862_wrapCaptureForm(t){for(var e=t.querySelector(".t862__capture-form"),o=t.querySelectorAll(".t-input-group"),r=t.querySelector(".t862__quiz-form-wrapper"),n=0;n<o.length;n++){var s=o[n],i=s.classList.contains("t-input-group_em"),l=s.classList.contains("t-input-group_nm"),u=s.classList.contains("t-input-group_ph"),a=s.classList.contains("t-input-group_cb");if(s.getAttribute("data-question-number")>=o.length-4){var c=!0;if(r.classList.contains("t862__quiz-form-wrapper_newcapturecondition"))for(var p=t862__nextAll(s,".t-input-group"),_=0;_<p.length;_++)var d=p[_],c=d.classList.contains("t-input-group_cb")||d.classList.contains("t-input-group_em")||d.classList.contains("t-input-group_nm")||d.classList.contains("t-input-group_ph");c&&(i||l||u||a)&&(s.classList.add("t862__t-input-group_capture"),e.appendChild(s))}}}function t862_showCounter(t,e){var o=t.querySelector(".t862__quiz-description-counter");o&&(t=t862_createQuestionArr(t),o.innerHTML=e+1+"/"+t.length)}function t862_createQuestionArr(t){for(var e=t.querySelectorAll(".t-input-group"),o=[],r=0;r<e.length;r++){var n=e[r];n.classList.contains("t862__t-input-group_capture")||o.push(n)}return o}function t862_disabledPrevBtn(t,e){t=t.querySelector(".t862__btn_prev");0===e?t.setAttribute("disabled",""):t.removeAttribute("disabled")}function t862_checkLength(t){var e=t.querySelector(".t862__btn_next"),o=t.querySelector(".t862__btn_result"),r=t862_createQuestionArr(t),n=t.querySelector(".t-form__submit"),s=t.querySelector(".t862__capture-form"),t=t.querySelector(".t862__result-title"),t=t?t.textContent:"";!s.innerHTML&&!t&&r.length<2?(e.style.display="none",o.style.display="none",n.style.display="block"):r.length<2&&(e.style.display="none",o.style.display="block")}function t862_openToHook(o,r,n){var t=o.querySelector(".t-popup"),e=o.querySelector(".t-popup__close"),s=o.querySelectorAll('a[href*="#"]'),i=t.getAttribute("data-tooltip-hook"),l=t.getAttribute("data-track-popup"),u=t.querySelector(".t-form__submit .t-submit"),a=t862__escClosePopup.bind(t,o);i&&(t_onFuncLoad("t_popup__addAttributesForAccessibility",function(){t_popup__addAttributesForAccessibility(i)}),document.addEventListener("click",function(t){var e=t.target.closest('a[href="'+i+'"]');e&&(t.preventDefault(),window.isMobile||e.classList.add("t-popup__triggered-btn"),t862_showPopup(o,r,n,a),setTimeout(function(){t862_resizePopup(o)},50),t862__lazyLoad(),l&&("#popup:"==(e=i).substring(0,7)&&(e=e.substring(7)),Tilda.sendEventToStatistics(l,e)))})),t.addEventListener("click",function(t){t.target===this&&t862_closePopup(o,a)}),e.addEventListener("click",function(){t862_closePopup(o,a)});for(var c=0;c<s.length;c++)s[c].addEventListener("click",function(){var t=this.getAttribute("href");t&&("#price:"==t.substring(0,7)||"#order:"==t.substring(0,7))||(t862_closePopup(o,a),t&&"#popup:"!=t.substring(0,7)||setTimeout(function(){document.body.classList.add("t-body_popupshowed")},300))}),s[c].addEventListener("keydown",function(t){13===t.keyCode&&(window.isMobile||this.classList.add("t-popup__triggered-btn"))});e=u&&u.getAttribute("href");e&&"#order:"===e.substring(0,7)&&u.addEventListener("click",function(){t862_closePopup(o,a)})}function t862_setProgress(t,e){var o=t.querySelector(".t862__progressbar"),r=t.querySelector(".t862__progress"),n=t862_createQuestionArr(t).length,s=t.querySelector(".t862__capture-form"),i=t.querySelector(".t862__result-title"),l=i?i.textContent:"",t=getComputedStyle(o,null),i=parseInt(t.paddingLeft)||0,t=parseInt(t.paddingRight)||0,u=o.clientWidth-(i+t);!s.innerHTML&&!l&&0<n&&n--;l=r.getAttribute("data-progress-bar");l||(l=0,r.setAttribute("data-progress-bar","0"));n=u/n,n=(parseFloat(l)+e*n)/u*100;isNaN(n)||n===-1/0?(n=0,r.setAttribute("data-progress-bar",n)):n===1/0?(n=u,r.setAttribute("data-progress-bar",n)):r.setAttribute("data-progress-bar",u/100*n),100<n?n=100:n<0&&(n=0),r&&(r.style.width=n+"%")}function t862__checkMode(){document.getElementById("allrecords").getAttribute("data-tilda-mode")||t862__lazyLoad()}function t862__lazyLoad(){"y"!==window.lazy&&"yes"!==document.getElementById("allrecords").getAttribute("data-tilda-lazy")||t_onFuncLoad("t_lazyload_update",function(){t_lazyload_update()})}function t862_awayFromResultScreen(t){var e=t.querySelector(".t862__capture-form"),o=t.querySelector(".t862__quiz-description"),r=t.querySelector(".t862__result-title"),t=t.querySelector(".t-form__submit");e.style.display="none",r&&(r.style.display="none"),t&&(t.style.display="none"),o&&(o.style.display="block")}function t862_hideError(t,e){e=t862_createQuestionArr(t)[e];e&&(e.classList.remove("js-error-control-box"),e.querySelector(".t-input-error").innerHTML="")}function t862_switchQuestion(t,e){for(var o=t.querySelector(".t862__btn_next"),r=t.querySelector(".t862__btn_result"),n=t862_createQuestionArr(t),s=t.querySelector(".t-form__submit"),i=t.querySelector(".t862__capture-form"),l=t.querySelector(".t862__result-title"),u=l?l.textContent:"",a=0;a<n.length;a++){var c=n[a];c.style.display="none",c.classList.remove("t-input-group-step_active")}t=n[e],l=t.querySelector(".t-range");t.style.display="block",t.classList.add("t-input-group-step_active"),l&&t862__triggerEvent(l,"displayChanged");i=i.innerHTML;i||u||e!==n.length-2?i||u||e!==n.length-1?(e===n.length-1?(o.style.display="none",r.style.display="block"):(o.style.display="block",r.style.display="none"),s.style.display="none"):(o.style.display="none",r.style.display="none",s.style.display="block"):(o.style.display="none",r.style.display="block",s.style.display="none")}function t862_showError(t,e,o){if(e.classList.contains("t862__quiz-published"))return t862_setError(t,o)}function t862_setError(t,e){var o,r=t862_createQuestionArr(t)[e];if("object"!=typeof window.tildaForm)return o;var n,s,i=window.tildaForm.validate(r),e=i[0];return r&&r.classList.add("js-error-control-box"),e&&(n=e.type[0],t=t.querySelector(".t-form .t-form__errorbox-middle .js-rule-error-"+n),s="",t&&(s=t.textContent),s||t_onFuncLoad("t_forms__getMsg",function(){s=t_forms__getMsg(n)}),o="emptyfill"!==n&&window.tildaForm.showErrors(r,i),(r=r.querySelector(".t-input-error"))&&(r.innerHTML=s)),o}function t862_switchResultScreen(t){var e=t.querySelector(".t862__btn_result"),o=t.querySelector(".t-form__submit"),r=t.querySelector(".t862__capture-form"),n=t.querySelector(".t862__result-title");if(r.innerHTML||n.textContent){for(var s=t.querySelector(".t862__quiz-description"),i=t862_createQuestionArr(t),l=0;l<i.length;l++)i[l].style.display="none";r&&(r.style.display="block"),n&&(n.style.display="block"),s&&(s.style.display="none")}e.style.display="none",o.style.display="block"}function t862_onSuccess(t){t_forms__onSuccess(t)}function t862_lockScroll(){var t,e=document.body;e.classList.contains("t-body_scroll-locked")||(t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||e.parentNode||e).scrollTop,e.classList.add("t-body_scroll-locked"),e.style.top="-"+t+"px",e.setAttribute("data-popup-scrolltop",t))}function t862_unlockScroll(){var t,e=document.body;e.classList.contains("t-body_scroll-locked")&&(t=e.getAttribute("data-popup-scrolltop"),e.classList.remove("t-body_scroll-locked"),e.style.top="",e.removeAttribute("data-popup-scrolltop"),window.scrollTo(0,parseInt(t)))}function t862_showPopup(t,e,o,r){var n=window.innerWidth,s=document.body,i=t.querySelector(".t-popup"),l=i.querySelector(".t-popup__container"),u=t.querySelector(".t862__quiz"),a=t.querySelector(".t-range");i.style.display="block",a&&t862__triggerEvent(a,"popupOpened"),t862__lazyLoad(),setTimeout(function(){i.classList.add("t-popup_show"),l.classList.add("t-popup__container-animated"),t_onFuncLoad("t_popup__trapFocus",function(){t_popup__trapFocus(i)}),640<n&&u.classList.contains("t862__quiz_fixedheight")&&t862_setHeight(t,e,o),n<=640&&t862_setMobileHeight(),t862__showJivo("1","1")},50),s.classList.add("t-body_popupshowed"),s.classList.add("t862__body_popupshowed"),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&setTimeout(function(){t862_lockScroll()},500),document.addEventListener("keydown",r)}function t862__escClosePopup(t,e){"Escape"===e.key&&t862_closePopup(t,e)}function t862_setHeight(t,e,o){for(var r=t.querySelector(".t862__quiz-form-wrapper"),n=t.querySelector(".t862__result-title"),s=t.querySelector(".t862__quiz-description"),i=n?n.offsetHeight:0,l=s?s.offsetHeight:0,n=getComputedStyle(o).display,u=[],a=[],c=0;c<e.length;c++){var p=e[c];p.classList.contains("t862__t-input-group_capture")||u.push(p)}for(c=0;c<u.length;c++)a.push(u[c].offsetHeight);s=Math.max.apply(null,a);o.style.display="block";for(var _=0,d=o.querySelectorAll(".t-input-block"),c=0;c<d.length;c++){var y=d[c],y=getComputedStyle(y,null);_+=(parseInt(y.height)||0)+(parseInt(y.marginBottom)||0)}o.style.display=n;for(var g=_<s?s:_,c=0;c<u.length;c++)u[c].style.minHeight=g+"px";o.style.minHeight=g+"px",r.style.minHeight=g+"px";i=l<i?i:l,l=r.offsetHeight,r=t.querySelector(".t862__btn-wrapper").offsetHeight;t.querySelector(".t862__wrapper").style.minHeight=i+l+r+"px"}function t862_setMobileHeight(){t862_calcVH(),window.addEventListener("resize",t862_calcVH)}function t862_calcVH(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}function t862_closePopup(t,e){var o=document.body,t=t.querySelector(".t-popup");t===document.querySelector(".t-popup.t-popup_show")&&(o.classList.remove("t-body_popupshowed"),o.classList.remove("t862__body_popupshowed")),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!window.MSStream&&t862_unlockScroll(),t_onFuncLoad("t_popup__addFocusOnTriggerButton",function(){t_popup__addFocusOnTriggerButton()}),t.classList.remove("t-popup_show"),t862__showJivo("2147483647","2147483648"),setTimeout(function(){for(var t=document.querySelectorAll(".t-popup:not(.t-popup_show)"),e=0;e<t.length;e++)t[e].style.display="none"},300),document.removeEventListener("keydown",e)}function t862_resizePopup(t){var e=window.innerHeight-120,o=t.querySelector(".t-popup__container"),r=getComputedStyle(o,null),t=parseInt(r.paddingTop)||0,r=parseInt(r.paddingBottom)||0;e<o.clientHeight-(t+r)?o.classList.add("t-popup__container-static"):o.classList.remove("t-popup__container-static")}function t862__showJivo(t,e){for(var o=document.querySelectorAll("._show_1e.wrap_mW.__jivoMobileButton"),r=document.querySelectorAll(".label_39#jvlabelWrap"),n=0;n<o.length;n++)o[n].style.zIndex=t;for(n=0;n<r.length;n++)r[n].style.zIndex=e}function t862_sendPopupEventToStatistics(t){var e="/tilda/popup/",o="Popup: ";"#popup:"==t.substring(0,7)&&(t=t.substring(7)),e+=t,o+=t,window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?Tilda.sendEventToStatistics(e,o,"",0):(ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:e,title:o}),window.mainMetrika&&window[window.mainMetrika]&&window[window.mainMetrika].hit(e,{title:o,referer:window.location.href}))}function t862__nextAll(t,e){for(var o=[],r=t;r.nextElementSibling;)(r=r.nextElementSibling).matches(e)&&o.push(r);return o}function t862__triggerEvent(t,e){var o;"function"==typeof window.CustomEvent?o=new CustomEvent(e):document.createEvent?(o=document.createEvent("HTMLEvents")).initEvent(e,!0,!1):document.createEventObject&&((o=document.createEventObject()).eventType=e),o.eventName=e,t.dispatchEvent?t.dispatchEvent(o):t.fireEvent?t.fireEvent("on"+o.eventType,o):t[e]?t[e]():t["on"+e]&&t["on"+e]()}