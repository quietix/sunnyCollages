function show_BubbleNotice(e,t){td__showBubbleNotice(e,t,"")}function close_BubbleNotice(e){td__closeBubbleNotice(e)}function td__showBubbleNotice(e,t,o){void 0===t&&(t=6e3);var n=document.querySelectorAll(".td__cornernotice").length+1,i=document.querySelector(".t-help-bubble"),i=(i&&(i.style.display="none"),document.getElementById("tc-news")),i=(i&&(i.style.display="none"),document.querySelector(".tc-errors"));i&&(i.style.display="none");document.body.insertAdjacentHTML("beforeend",'<div class="td__cornernotice" data-tilda-corner-notice="'+n+'" style="position: fixed;z-index:10001;background-color:'+("ok"==o?"green":"error"==o?"red":"#111")+';width:350px;bottom:50px;right:-350px;border: 1px solid #ccc;border-radius:10px;opacity:0;"><div class="td__cornernotice__close" style="position:absolute;right:10px;top:3px;color:#fff;cursor: pointer;">&times;</div><div class="td__cornernotice__text" style="color:#fff;font-family:\'tfutura\',Arial,sans-serif;font-size:16px;padding:20px 30px;">'+e+"</div><style>.td__cornernotice__text a{color:#ff855d;text-decoration: underline;}</style></div>");var d=document.querySelector('.td__cornernotice[data-tilda-corner-notice="'+n+'"]');1<n&&(i=document.querySelector('.td__cornernotice[data-tilda-corner-notice="'+(n-1)+'"]'))&&(e=(o=window.getComputedStyle(i)).getPropertyValue("bottom"),i=o.getPropertyValue("height"),e=parseInt(e.replace(/[^0-9.]/g,""),10)||0,i=parseInt(i.replace(/[^0-9.]/g,""),10)||0,n<5&&d?d.style.bottom=e+i+5+"px":d&&(d.style.bottom=e+25+"px")),d&&(d.style.transitionProperty="opacity, right",d.style.transitionDuration="400ms",d.style.transitionTimingFunction="ease-out",setTimeout(function(){d.style.opacity="1",d.style.right="20px"},0),setTimeout(function(){td__closeBubbleNotice(n)},t+400),o=d.querySelector(".td__cornernotice__close"))&&o.addEventListener("click",function(){var e=this.parentElement.getAttribute("data-tilda-corner-notice");td__closeBubbleNotice(parseInt(e,10)||0)})}function td__closeBubbleNotice(e){var t=e?document.querySelector('.td__cornernotice[data-tilda-corner-notice="'+e+'"]'):document.querySelector(".td__cornernotice");t&&(t.style.transitionProperty="opacity, right",t.style.transitionDuration="300ms",t.style.transitionTimingFunction="ease-in",setTimeout(function(){t.style.opacity="0",t.style.right="0px"},0),setTimeout(function(){var e;t.remove(),!(t=document.querySelector(".td__cornernotice"))&&((e=document.querySelector(".t-help-bubble"))&&(e.style.display="block"),(e=document.getElementById("tc-news"))&&(e.style.display="block"),e=document.querySelector(".tc-errors"))&&(e.style.display="block")},300))}function showOnboardingPin(t,e,o,n,i,d,c,r){window.innerWidth<1200||localStorage.getItem("tp-pin-"+t)||(document.body.insertAdjacentHTML("afterbegin",'<div class="onboardingpin" id="'+t+'" data-pin-left="'+o+'" data-pin-top="'+n+'" data-pin-fixed="'+d+'" data-pin-elem="'+i+'"><div class="onboardingpin__wrapper"><div class="onboardingpin__pin"></div><div class="onboardingpin__bubble" style="'+(-2e3<c?"left:"+c+"px;":"")+(-2e3<r?"top:"+r+"px;":"")+'" id="'+t+'"><div class="onboardingpin__msg">'+e+'</div><div class="onboardingpin__btn-close">OK</div></div></div></div>'),(o=document.getElementById(t))&&updatePinPosition(o),o&&o.addEventListener("mouseover",function(){var e;this.classList.contains("onboardingpin_opened")||(this.classList.add("onboardingpin_opened"),(e=this.querySelector(".onboardingpin__bubble"))&&(e.style.removeProperty("transition"),e.style.opacity="0",e.style.transition="opacity 500ms ease-out",e.style.opacity="1"),document.querySelector(".onboardingpin__filter")||(document.body.insertAdjacentHTML("afterbegin",'<div class="onboardingpin__filter" style="opacity:0;"></div>'),document.querySelector(".onboardingpin__filter"),e.style.transition="opacity 300ms ease-out",e.style.opacity="0.7",e.addEventListener("click",closeOnboardingPinHtml)),localStorage.setItem("tp-pin-"+t,Date.now()))}),(n=document.querySelector(".onboardingpin__btn-close"))&&n.addEventListener("click",closeOnboardingPinHtml),o&&setInterval(updatePinPosition.bind(null,o),2e3))}function updatePinPosition(e){var t,o,n,i,d,c,r;e&&(t=e.getAttribute("data-pin-left"),t=parseInt(t,10)||0,o=e.getAttribute("data-pin-top"),o=parseInt(o,10)||0,n=e.getAttribute("data-pin-fixed")||"",i=r=0,(d=(c=e.getAttribute("data-pin-elem")||"")?document.querySelector(c):d)&&(r=(c=d.getBoundingClientRect()).left+window.pageXOffset,"fixed"!==n)&&(i=c.top+window.pageYOffset),"fixed"===n&&(e.style.position="fixed"),e.style.left=t+r+"px",e.style.top=o+i+"px")}function closeOnboardingPinHtml(){var e=document.querySelector(".onboardingpin_opened"),e=(e&&e.remove(),document.querySelector(".onboardingpin__filter"));e&&e.remove()}function check_logout(e){if("string"==typeof e&&"\x3c!--tlp--\x3e"===e.substring(0,10))throw window.location="/login/",new Error("Sorry, you logout!");if("string"==typeof e&&"\x3c!--tpbaa--\x3e"===e.substring(0,12))throw window.location="/projects/",new Error("Sorry, this page belongs to another account!")}function str_stripTags(e){return e="string"==typeof e?e&&e.replace(/(<([^>]+)>)/gi,""):e}function getCSRF(){var e,t;return"string"==typeof window.csrf&&window.csrf?window.csrf:(t="notset",(e=document.getElementById("csrf"))?void 0===(t=e.getAttribute("content"))||t?void 0===t&&(t="err. is undefined."):t="err. is empty. "+t:t="err. len is: 0",t)}function logAjaxError(e,t,o,n,i){console.log("Sending API error to stat.."),void 0===n&&(n=""),void 0===o&&(o=""),void 0===t&&(t=""),"object"==typeof i&&null!==i||(i={}),void 0!==window.userid&&(i.userid=window.userid),void 0!==window.projectid&&(i.projectid=window.projectid),void 0!==window.pageid&&(i.pageid=window.pageid),void 0!==window.usercountry&&(i.usercountry=window.usercountry),void 0!==window.lang&&(i.lang=window.lang);var d=new XMLHttpRequest;d.open("POST","https://sysstat.tildacdn.com/api/ajax/error/",!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify({account_id:"cc",event_id:(new Date).getTime()+"-"+Math.floor(1e5*Math.random()),url:e,data:t,status_code:n,message_text:o,location:window.location.href,debug:i}))}function logNetworkError(e,t,o,n,i){console.log("Sending Network error to stat.."),void 0===e&&(e=""),void 0===o&&(o=""),"object"==typeof i&&null!==i||(i={}),0<(n=void 0===n?"":n)&&(n=parseInt(n)),void 0!==window.userid&&(i.userid=window.userid),void 0!==window.projectid&&(i.projectid=window.projectid),void 0!==window.pageid&&(i.pageid=window.pageid),void 0!==window.usercountry&&(i.usercountry=window.usercountry),void 0!==window.lang&&(i.lang=window.lang);var d=new XMLHttpRequest;d.open("POST","https://sysstat.tildacdn.com/api/net/error/",!0),d.setRequestHeader("Content-Type","application/json"),d.send(JSON.stringify({account_id:"cc",type:e,url:t,data:o,time:n,location:window.location.href,debug:i}))}function errorLog(e){console.log("Sending API error to stat.."),td__ajax({url:"https://sysstat.tildacdn.com/api/ajax/error/",dataToSend:e,ui:{isQuiet:!0},onSuccess:function(){console.log("Error log sent ok")}})}function showAlert(e,t){void 0===t&&(t=6e3);var o=document.querySelector(".t-help-bubble");o&&(o.style.display="none");document.body.insertAdjacentHTML("beforeend",'<div class="cornernotice" style="border-radius:0;"><div class="cornernotice__close" style="font-size:20px;">&times;</div><div class="cornernotice__text" style="background-color:red;color:#fff;fonr-weight:600;font-size:20px;">'+e+"</div></div>");o=document.querySelector(".cornernotice");o.style.transitionProperty="opacity, right",o.style.transitionDuration="400ms",o.style.transitionTimingFunction="ease-in",o.style.opacity="1",o.style.right="20px",setTimeout(closeAlert,t),o.querySelector(".cornernotice__close").addEventListener("click",closeAlert)}function closeAlert(){var t=document.querySelector(".cornernotice");t&&(t.style.transitionDuration="300ms",t.style.transitionTimingFunction="ease-out",t.style.opacity="0",t.style.right="0px",setTimeout(function(){t.remove();var e=document.querySelector(".t-help-bubble");e&&(e.style.display="block")},300))}function logout(){var e=document.querySelector(".t-menu__item-exit"),t=(e&&(e.style.pointerEvents="none",e.style.opacity="0.5"),{comm:"logout",csrf:getCSRF()});void 0!==window.xhr_submit&&window.xhr_submit.abort(),window.xhr_submit=td__ajax({url:"/identity/submit/logout/",dataToSend:t,ui:{ctext:"logout"},onSuccess:function(e){var t;""!==e&&"logout"===e.substring(0,6)?0<e.indexOf("goto:")?(t=e.indexOf("goto:")+5,t=e.substr(t),window.location.href=t):window.location.href="/login/":(alert("Logout error.."),console.log("error logout response:"+e),window.location.href="/login/")},onComplete:function(){delete window.xhr_submit,e&&(e.style.pointerEvents="auto",e.style.opacity="1")}})}function getCookie(e){e=("; "+document.cookie).split("; "+e+"=");if(2===e.length)return e.pop().split(";").shift()}function delCookie(e){document.cookie=e+"=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;",console.log("del")}function tc__onFuncLoad(e,t,o,n){if("function"==typeof window[e]||"object"==typeof window[e])t();else{if("complete"===document.readyState&&(void 0===n&&(n=1),200==++n))throw new Error("Wait func: "+e+" is undefined");setTimeout(function(){tc__onFuncLoad(e,t,o,n)},o||100)}}function tc__loadCSSFile(e){var t=window.document.createElement("link"),o=window.ver?"?ver="+window.ver:"";t.rel="stylesheet",t.type="text/css",t.media="all",t.href=e+o,document.head.appendChild(t)}function tc__loadJSFile(e,t){var o=document.createElement("script"),n=window.ver?"?ver="+window.ver:"";o.src=e+n,t&&(o.onload=t),document.head.appendChild(o)}function tc__scrollGuard(e){function t(e){e.target.closest(".pe-textarea")||(e.deltaY<0&&0===this.scrollTop||0<e.deltaY&&this.scrollTop+this.clientHeight===this.scrollHeight)&&e.preventDefault()}e&&e instanceof Element&&(e.removeEventListener("wheel",t,{passive:!1}),e.addEventListener("wheel",t,{passive:!1}))}function tc__connectTSortable(e){var t="https://front.tildacdn.com/plugins/sortable/t-sortable.min.css",o=document.head.querySelector('link[href*="'+t+'"]'),t=(o||((o=document.createElement("link")).href=t+(window.ver?"?v="+window.ver:""),o.rel="stylesheet",document.head.appendChild(o)),"https://front.tildacdn.com/plugins/sortable/t-sortable.min.js"),o=document.head.querySelector('script[src*="'+t+'"]');o&&"function"==typeof e?"function"==typeof TSortable?e():o.addEventListener("load",e):o||((o=document.createElement("script")).src=t+(window.ver?"?v="+window.ver:""),o.async=!0,"function"==typeof e&&o.addEventListener("load",e),document.head.appendChild(o))}function tc__connectTSortableLite(e){var t="https://front.tildacdn.com/plugins/sortable/t-sortable.min.css",o=document.head.querySelector('link[href*="'+t+'"]'),t=(o||((o=document.createElement("link")).href=t+(window.ver?"?v="+window.ver:""),o.rel="stylesheet",document.head.appendChild(o)),"https://front.tildacdn.com/plugins/sortable/t-sortable-lite.min.js"),o=document.head.querySelector('script[src*="'+t+'"]');o&&"function"==typeof e?"function"==typeof TSortableLite?e():o.addEventListener("load",e):o||((o=document.createElement("script")).src=t+(window.ver?"?v="+window.ver:""),o.async=!0,"function"==typeof e&&o.addEventListener("load",e),document.head.appendChild(o))}function tc__serializeArray(e){var o=[],e=Array.prototype.slice.call(e.elements);return Array.prototype.forEach.call(e,function(t){!t.name||t.disabled||-1<["file","reset","submit","button"].indexOf(t.type)||("select-multiple"===t.type?Array.prototype.slice.call(t.options).forEach(function(e){e.selected&&o.push({name:t.name,value:e.value})}):-1<["checkbox","radio"].indexOf(t.type)&&!t.checked||o.push({name:t.name,value:t.value}))}),o}function tc__showSaveConfirmDialog(e){var t,o,n,i,d;document.getElementById("save-confirm-dialog")||(e.title||(e.title="You have unsaved changes"),e.msg||(e.msg="You have unsaved changes on the page. Are you sure you want to close this panel?"),e.yesButtonText||(e.yesButtonText="Exit without saving"),e.noButtonText||(e.noButtonText="Go back"),o='<div id="save-confirm-dialog" class="tc-custom-dialog tc-confirm-dialog"><div class="tc-custom-dialog__wrapper"><div class="tc-custom-dialog__window"><div class="tc-custom-dialog__head"><div class="tc-custom-dialog__title">'+e.title+'</div><div class="tc-custom-dialog__msg">'+e.msg+'</div></div><div class="tc-custom-dialog__footer"><div class="tc-custom-dialog__buttons"><input type="button" value="'+e.noButtonText+'" class="tc-custom-dialog__btn tc-custom-dialog__btn_white js-ps-popup-no" tabindex="1"><input type="button" value="'+e.yesButtonText+'" class="tc-custom-dialog__btn js-ps-popup-yes" tabindex="0"></div></div></div></div></div>',document.body.insertAdjacentHTML("beforeend",o),o=(t=document.getElementById("save-confirm-dialog")).querySelector(".js-ps-popup-no"),n=t.querySelector(".js-ps-popup-yes"),document.body.classList.add("td-body_popup-opened"),document.body.classList.add("t-body_popupshowed"),t.classList.add("td-popup_opened"),n.focus(),i=function(){document.body.classList.remove("td-body_popup-opened"),document.body.classList.remove("t-body_popupshowed"),t.remove()},d=function(e){e.stopPropagation(),27==e.keyCode&&(document.body.removeEventListener("keydown",d),i())},document.body.addEventListener("keydown",d),o.addEventListener("click",i),n.addEventListener("click",function(){i(),"function"==typeof e.yesCallback&&e.yesCallback()}))}function tc__showAlertDialog(e){var t,o,n,i;document.getElementById("custom-alert")||(e.title||(e.title=""),e.msg||(e.msg=""),e.buttonText||(e.buttonText="OK"),o='<div id="custom-alert" class="tc-custom-dialog tc-alert-dialog"><div class="tc-custom-dialog__wrapper"><div class="tc-custom-dialog__window"><div class="tc-custom-dialog__head">'+(""===e.title?"":'<div class="tc-custom-dialog__title">'+e.title+"</div>")+'<div class="tc-custom-dialog__msg">'+e.msg+'</div></div><div class="tc-custom-dialog__footer"><div class="tc-custom-dialog__buttons"><input type="button" value="'+e.buttonText+'" class="tc-custom-dialog__btn js-ps-popup-ok"></div></div></div></div></div>',document.body.insertAdjacentHTML("beforeend",o),o=(t=document.getElementById("custom-alert")).querySelector(".js-ps-popup-ok"),document.body.classList.add("td-body_popup-opened"),document.body.classList.add("t-body_popupshowed"),t.classList.add("td-popup_opened"),o.focus(),n=function(){document.body.classList.remove("td-body_popup-opened"),document.body.classList.remove("t-body_popupshowed"),t.remove()},i=function(e){e.stopPropagation(),27==e.keyCode&&(document.body.removeEventListener("keyup",i),n())},document.body.addEventListener("keyup",i),o.addEventListener("click",function(){n(),"function"==typeof e.okCallback&&e.okCallback()}))}window.showLoadIcon=function(){var e=document.getElementById("loadicon");e||(document.body.insertAdjacentHTML("beforeend",'<div id="loadicon" class="spinner"></div>'),e=document.getElementById("loadicon")),e.style.display="block"},window.hideLoadIcon=function(){var e=document.getElementById("loadicon");e&&(e.style.display="none")},jQuery.cachedScript=function(e){return jQuery.ajax({dataType:"script",cache:!0,url:e})};
