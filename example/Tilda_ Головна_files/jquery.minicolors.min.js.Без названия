!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(b){"use strict";function c(i,o){var t,s,n;if(window.tMinicolors={},window.tMinicolors[window.tildaprojectid]=[],"object"==typeof localStorage)try{var a=localStorage.getItem("tMinicolors");null===a||"[object Object]"===(a=JSON.parse(a)).toString()&&(window.tMinicolors=a,"object"==typeof window.tMinicolors[window.tildaprojectid]?localStorage.removeItem("minicolors-"+window.tildaprojectid):(window.tMinicolors[window.tildaprojectid]=JSON.parse(localStorage.getItem("minicolors-"+window.tildaprojectid)),localStorage.removeItem("minicolors-"+window.tildaprojectid),localStorage.setItem("tMinicolors",JSON.stringify(window.tMinicolors))))}catch(i){}var r=window.tMinicolors[window.tildaprojectid];if(null!==r&&(c=r.filter(function(i,o,t){return t.indexOf(i)===o}),o.swatches=c,r.length>c.length&&(window.tMinicolors[window.tildaprojectid]=c,localStorage.setItem("tMinicolors",JSON.stringify(window.tMinicolors)))),o.swatches){i.hasClass("minicolors-with-swatches")?(s=i.find("ul.minicolors-swatches")).find("li, div").remove():(i.addClass("minicolors-with-swatches"),s=b('<ul class="minicolors-swatches"></ul>').appendTo(i));for(var e=0;e<o.swatches.length;e++)if("object"!=typeof o.swatches[e]){if(void 0===(n=t=o.swatches[e]))return;t=j(t)?C(t,!0):O(x(t,!0)),b('<li class="minicolors__swatch minicolors-sprite" style="background:'+g(t)+'"><span class="minicolors-swatch-color"></span></li>').appendTo(s).data("swatch-color",n).find(".minicolors-swatch-color").css({backgroundColor:"transparent"!==n?g(t):"transparent",opacity:t.a}),o.swatches[e]=t,.9<u(O(n)).l&&b("ul.minicolors-swatches li:last").children().css("box-shadow","0 0 0 1px rgba(0, 0, 0, 0.33)")}}var c=b('<div class="minicolors__swatch minicolors__swatch-plus" data-hover="'+("EN"===window.lang?"Add color":"Добавить цвет")+'" style="overflow: visible;"><svg viewBox="0 0 102 102" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M89.834 49.742H52.072V12.164a1.165 1.165 0 00-2.33 0V49.74H12.166a1.166 1.166 0 000 2.33l37.576.001v37.763a1.165 1.165 0 002.33 0V52.073l37.762.001a1.166 1.166 0 000-2.332z" fill="#000" stroke="#000" stroke-width="2"/></svg></div>').appendTo(s);7<i.find("li.minicolors__swatch").length?b(c).css("display","none"):b(c).css("display","block"),b('<div class="minicolors__swatch minicolors__swatch-link" data-hover="'+("EN"===window.lang?"Choose colors from the library":"Выберите цвета из библиотеки")+'"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 102 102"><path stroke="#000" stroke-miterlimit="10" stroke-width="4" d="M7.89 93.72c-6.5-6.46 0-18.45 0-18.45l38.99-37.81c4.64-4.61 13-4.61 17.64 0 4.64 4.61 4.64 12.91 0 18.45l-39 37.81s-10.2 7.38-17.63 0z"/><path fill="#000" d="M44.7 27.5c4.65-4.66 13.97-4.66 18.63 0L74.5 37.73a15.44 15.44 0 010 19.57c-5.6 5.59-35.4-24.23-29.82-29.82z"/><path fill="#000" d="M58.18 44.53c-5.57-5.55-5.57-12.94 0-18.5L75.85 8.48c4.65-4.63 13.01-4.63 17.66 0 4.65 4.62 4.65 12.94 0 18.5l-18.6 17.56c-4.64 4.63-12.08 4.63-17.66 0h.93z"/></svg></div>').appendTo(s)}function t(i){var o=i.parent();i.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),o.before(i).remove()}function l(i){var o=i.parent(),t=o.find(".minicolors-panel"),s=i.data("minicolors-settings");!i.data("minicolors-initialized")||i.prop("disabled")||o.hasClass("minicolors-inline")||o.hasClass("minicolors-focus")||(d(),o.addClass("minicolors-focus"),t.animate?t.stop(!0,!0).fadeIn(s.showSpeed,function(){s.show&&s.show.call(i.get(0))}):(t.css("opacity",1),s.show&&s.show.call(i.get(0))))}function d(){b(".minicolors-focus").each(function(){var i=b(this),o=i.find(".minicolors-input"),t=i.find(".minicolors-panel"),s=o.data("minicolors-settings");i.hasClass("minicolors-inline")||(t.animate?t.fadeOut(s.hideSpeed,function(){s.hide&&s.hide.call(o.get(0)),i.removeClass("minicolors-focus")}):(t.css("opacity",0),s.hide&&s.hide.call(o.get(0)),i.removeClass("minicolors-focus")))})}function s(i,o,t){var s=i.parents(".minicolors").find(".minicolors-input"),n=s.data("minicolors-settings"),a=i.find("[class$=-picker]"),r=i.offset().left,e=i.offset().top,c=Math.round(o.pageX-r),l=Math.round(o.pageY-e),t=t?n.animationSpeed:0;o.originalEvent.changedTouches&&(c=o.originalEvent.changedTouches[0].pageX-r,l=o.originalEvent.changedTouches[0].pageY-e),c<0&&(c=0),l<0&&(l=0),c>i.width()&&(c=i.width()),l>i.height()&&(l=i.height()),i.parent().is(".minicolors-slider-wheel")&&a.parent().is(".minicolors-grid")&&(r=75-c,o=75-l,e=Math.sqrt(r*r+o*o),(r=Math.atan2(o,r))<0&&(r+=2*Math.PI),75<e&&(c=75-75*Math.cos(r),l=75-75*Math.sin(r)),c=Math.round(c),l=Math.round(l)),l={top:l+"px"},i.is(".minicolors-grid")&&(l.left=c+"px"),a.animate?a.stop(!0).animate(l,t,n.animationEasing,function(){h(s,i)}):(a.css(l),h(s,i))}function h(i,o){function t(i,o){var t,s;return i.length&&o?(t=i.offset().left,s=i.offset().top,{x:t-o.offset().left+i.outerWidth()/2,y:s-o.offset().top+i.outerHeight()/2}):null}var s,n,a,r=i.val(),e=i.attr("data-opacity"),c=i.parent(),l=i.data("minicolors-settings"),d=c.find(".minicolors-input-swatch"),h=c.find(".minicolors-grid"),p=c.find(".minicolors-slider"),g=c.find(".minicolors-opacity-slider"),u=h.find("[class$=-picker]"),f=p.find("[class$=-picker]"),m=g.find("[class$=-picker]"),w=t(u,h),v=t(f,p),m=t(m,g);if(o.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(l.control){case"wheel":s=h.width()/2-w.x,a=h.height()/2-w.y,n=Math.sqrt(s*s+a*a),(a=Math.atan2(a,s))<0&&(a+=2*Math.PI),75<n&&(n=75,w.x=69-75*Math.cos(a),w.y=69-75*Math.sin(a)),s=S(n/.75,0,100),r=T({h:n=S(180*a/Math.PI,0,360),s:s,b:a=S(100-Math.floor(v.y*(100/p.height())),0,100)}),p.css("backgroundColor",T({h:n,s:s,b:100}));break;case"saturation":r=T({h:n=S(parseInt(w.x*(360/h.width()),10),0,360),s:s=S(100-Math.floor(v.y*(100/p.height())),0,100),b:a=S(100-Math.floor(w.y*(100/h.height())),0,100)}),p.css("backgroundColor",T({h:n,s:100,b:a})),c.find(".minicolors-grid-inner").css("opacity",s/100);break;case"brightness":r=T({h:n=S(parseInt(w.x*(360/h.width()),10),0,360),s:s=S(100-Math.floor(w.y*(100/h.height())),0,100),b:a=S(100-Math.floor(v.y*(100/p.height())),0,100)}),p.css("backgroundColor",T({h:n,s:s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-a/100);break;default:r=T({h:n=S(360-parseInt(v.y*(360/p.height()),10),0,360),s:s=S(Math.floor(w.x*(100/h.width())),0,100),b:a=S(100-Math.floor(w.y*(100/h.height())),0,100)}),h.css("backgroundColor",T({h:n,s:100,b:100}))}y(i,r,e=l.opacity?parseFloat(1-m.y/g.height()).toFixed(2):1)}else d.find("span").css({backgroundColor:r,opacity:e}),M(i,r,e)}function y(i,o,t){var s=i.parent(),n=i.data("minicolors-settings"),a=s.find(".minicolors-input-swatch");n.opacity&&i.attr("data-opacity",t),o="rgb"===n.format?(s=j(o)?C(o,!0):O(x(o,!0)),t=""===i.attr("data-opacity")?1:S(parseFloat(i.attr("data-opacity")).toFixed(2),0,1),!isNaN(t)&&n.opacity||(t=1),i.minicolors("rgbObject").a<=1&&s&&n.opacity?"rgba("+s.r+", "+s.g+", "+s.b+", "+parseFloat(t)+")":"rgb("+s.r+", "+s.g+", "+s.b+")"):(j(o)&&(o=z(o)),k(o,n.letterCase)),i.val(o),a.find("span").css({backgroundColor:o,opacity:t}),M(i,o,t)}function p(i,o){var t,s,n,a,r,e,c,l,d=i.parent(),h=i.data("minicolors-settings"),p=d.find(".minicolors-input-swatch"),g=d.find(".minicolors-grid"),u=d.find(".minicolors-slider"),f=d.find(".minicolors-opacity-slider"),m=g.find("[class$=-picker]"),w=u.find("[class$=-picker]"),v=f.find("[class$=-picker]");switch(j(i.val())?(t=z(i.val()),(a=S(parseFloat(I(i.val())).toFixed(2),0,1))&&i.attr("data-opacity",a)):t=k(x(i.val(),!0),h.letterCase),s=function(i){i=function(i){var o={h:0,s:0,b:0},t=Math.min(i.r,i.g,i.b),s=Math.max(i.r,i.g,i.b),t=s-t;o.b=s,o.s=0!==s?255*t/s:0,0!==o.s?i.r===s?o.h=(i.g-i.b)/t:i.g===s?o.h=2+(i.b-i.r)/t:o.h=4+(i.r-i.g)/t:o.h=-1;o.h*=60,o.h<0&&(o.h+=360);return o.s*=100/255,o.b*=100/255,o}(O(i));0===i.s&&(i.h=360);return i}(t=t||k(_(h.defaultValue,!0),h.letterCase)),a=h.keywords?b.map(h.keywords.split(","),function(i){return i.toLowerCase().trim()}):[],a=""!==i.val()&&-1<b.inArray(i.val().toLowerCase(),a)?k(i.val()):j(i.val())?C(i.val()):t,o||i.val(a),h.opacity&&(n=""===i.attr("data-opacity")?1:S(parseFloat(i.attr("data-opacity")).toFixed(2),0,1),isNaN(n)&&(n=1),i.attr("data-opacity",n),p.find("span").css("opacity",n),e=S(f.height()-f.height()*n,0,f.height()),v.css("top",e+"px")),"transparent"===i.val().toLowerCase()&&p.find("span").css("opacity",0),p.find("span").css("backgroundColor",t),h.control){case"wheel":c=S(Math.ceil(.75*s.s),0,g.height()/2),l=s.h*Math.PI/180,r=S(75-Math.cos(l)*c,0,g.width()),e=S(75-Math.sin(l)*c,0,g.height()),m.css({top:e+"px",left:r+"px"}),e=150-s.b/(100/g.height()),""===t&&(e=0),w.css("top",e+"px"),u.css("backgroundColor",T({h:s.h,s:s.s,b:100}));break;case"saturation":r=S(5*s.h/12,0,150),e=S(g.height()-Math.ceil(s.b/(100/g.height())),0,g.height()),m.css({top:e+"px",left:r+"px"}),e=S(u.height()-s.s*(u.height()/100),0,u.height()),w.css("top",e+"px"),u.css("backgroundColor",T({h:s.h,s:100,b:s.b})),d.find(".minicolors-grid-inner").css("opacity",s.s/100);break;case"brightness":r=S(5*s.h/12,0,150),e=S(g.height()-Math.ceil(s.s/(100/g.height())),0,g.height()),m.css({top:e+"px",left:r+"px"}),e=S(u.height()-s.b*(u.height()/100),0,u.height()),w.css("top",e+"px"),u.css("backgroundColor",T({h:s.h,s:s.s,b:100})),d.find(".minicolors-grid-inner").css("opacity",1-s.b/100);break;default:r=S(Math.ceil(s.s/(100/g.width())),0,g.width()),e=S(g.height()-Math.ceil(s.b/(100/g.height())),0,g.height()),m.css({top:e+"px",left:r+"px"}),e=S(u.height()-s.h/(360/u.height()),0,u.height()),w.css("top",e+"px"),g.css("backgroundColor",T({h:s.h,s:100,b:100}))}i.data("minicolors-initialized")&&M(i,a,n)}function M(i,o,t){var s,n,a,r=i.data("minicolors-settings"),e=i.data("minicolors-lastChange");if(!e||e.value!==o||e.opacity!==t){if(i.data("minicolors-lastChange",{value:o,opacity:t}),r.swatches&&0!==r.swatches.length){for(s=j(o)?C(o,!0):O(o),n=-1,a=0;a<r.swatches.length;a++)if(s.r===r.swatches[a].r&&s.g===r.swatches[a].g&&s.b===r.swatches[a].b&&s.a===r.swatches[a].a){n=a;break}i.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==n&&i.parent().find(".minicolors-swatches .minicolors-swatch").eq(a).addClass("selected")}r.change&&(r.changeDelay?(clearTimeout(i.data("minicolors-changeTimeout")),i.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(i.get(0),o,t)},r.changeDelay))):r.change.call(i.get(0),o,t)),i.trigger("change").trigger("input")}}function k(i,o){return"uppercase"===o?i.toUpperCase():i.toLowerCase()}function x(i,o){return!(i=i.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)||3!==i.length&&6!==i.length?"":(3===i.length&&o&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),"#"+i)}function C(i,o){i=i.replace(/[^\d,.]/g,"").split(",");return i[0]=S(parseInt(i[0],10),0,255),i[1]=S(parseInt(i[1],10),0,255),i[2]=S(parseInt(i[2],10),0,255),void 0!==i[3]&&(i[3]=S(parseFloat(i[3],10),0,1)),o?void 0!==i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:void 0!==i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function _(i,o){return j(i)?C(i):x(i,o)}function S(i,o,t){return i<o&&(i=o),t<i&&(i=t),i}function j(i){i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!i||4!==i.length)}function I(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===i.length?i[4]:"1"}function z(i){return(i=i.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===i.length?"#"+("0"+parseInt(i[1],10).toString(16)).slice(-2)+("0"+parseInt(i[2],10).toString(16)).slice(-2)+("0"+parseInt(i[3],10).toString(16)).slice(-2):""}function g(i){var t=[i.r.toString(16),i.g.toString(16),i.b.toString(16)];return b.each(t,function(i,o){1===o.length&&(t[i]="0"+o)}),"#"+t.join("")}function T(i){return g((o=i,t={},s=Math.round(o.h),n=Math.round(255*o.s/100),i=Math.round(255*o.b/100),0===n?t.r=t.g=t.b=i:(i=s%60*((o=i)-(n=(255-n)*i/255))/60,360===s&&(s=0),s<60?(t.r=o,t.b=n,t.g=n+i):s<120?(t.g=o,t.b=n,t.r=o-i):s<180?(t.g=o,t.r=n,t.b=n+i):s<240?(t.b=o,t.r=n,t.g=o-i):s<300?(t.b=o,t.g=n,t.r=n+i):s<360?(t.r=o,t.g=n,t.b=o-i):(t.r=0,t.g=0,t.b=0)),{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}));var o,t,s,n}function O(i){return{r:(i=parseInt(-1<i.indexOf("#")?i.substring(1):i,16))>>16,g:(65280&i)>>8,b:255&i}}function u(i){i.r/=255,i.g/=255,i.b/=255;var o,t=Math.max(i.r,i.g,i.b),s=Math.min(i.r,i.g,i.b),n=(t+s)/2;if(t===s)o=r=0;else{var a=t-s,r=.5<n?a/(2-t-s):a/(t+s);switch(t){case i.r:o=(i.g-i.b)/a+(i.g<i.b?6:0);break;case i.g:o=(i.b-i.r)/a+2;break;case i.b:o=(i.r-i.g)/a+4}o/=6}return{h:o,s:r,l:n}}b.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom",show:null,showSpeed:100,theme:"default",swatches:[]}},b.extend(b.fn,{minicolors:function(i,o){switch(i){case"destroy":return b(this).each(function(){t(b(this))}),b(this);case"hide":return d(),b(this);case"opacity":return void 0===o?b(this).attr("data-opacity"):(b(this).each(function(){p(b(this).attr("data-opacity",o))}),b(this));case"rgbObject":return function(i){var o=b(i).attr("data-opacity");{var t;t=j(b(i).val())?C(b(i).val(),!0):(t=x(b(i).val(),!0),O(t))}if(!t)return null;void 0!==o&&b.extend(t,{a:parseFloat(o)});return t}(b(this));case"rgbString":case"rgbaString":return function(i,o){var t=b(i).attr("data-opacity");{var s;s=j(b(i).val())?C(b(i).val(),!0):(s=x(b(i).val(),!0),O(s))}if(!s)return null;void 0===t&&(t=1);return o?"rgba("+s.r+", "+s.g+", "+s.b+", "+parseFloat(t)+")":"rgb("+s.r+", "+s.g+", "+s.b+")"}(b(this),"rgbaString"===i);case"settings":return void 0===o?b(this).data("minicolors-settings"):(b(this).each(function(){var i=b(this).data("minicolors-settings")||{};t(b(this)),b(this).minicolors(b.extend(!0,i,o))}),b(this));case"show":return l(b(this).eq(0)),b(this);case"value":return void 0===o?b(this).val():(b(this).each(function(){"object"==typeof o&&null!==o?(void 0!==o.opacity&&b(this).attr("data-opacity",S(o.opacity,0,1)),o.color&&b(this).val(o.color)):b(this).val(o),p(b(this))}),b(this));case"parseRgb":return C(o,!0);case"rgbString2hex":return z(o);case"getAlpha":return I(o);case"hsl2rgb":return function(i){var o,t,s;{var n,a,r;0==i.s?o=t=s=i.l:(n=function(i,o,t){return t<0&&(t+=1),1<t&&--t,t<1/6?i+6*(o-i)*t:t<.5?o:t<2/3?i+(o-i)*(2/3-t)*6:i},a=i.l<.5?i.l*(1+i.s):i.l+i.s-i.l*i.s,r=2*i.l-a,o=n(r,a,i.h+1/3),t=n(r,a,i.h),s=n(r,a,i.h-1/3))}return{r:Math.round(255*o),g:Math.round(255*t),b:Math.round(255*s)}}(o);case"rgb2hsl":return u(o);case"rgb2hex":return g(o);default:return"create"!==i&&(o=i),b(this).each(function(){!function(o,n){var a,r,i=b('<div class="minicolors" />'),t=b.minicolors.defaults;if(o.data("minicolors-initialized"))return;if(void 0===window.tildaprojectid)if(void 0!==window.$projectid&&0<window.$projectid)window.tildaprojectid=window.$projectid;else{var s=window.location.search;if(window.tildaprojectid="",s&&1<s.length){s=(s=s.slice(1)).split("&");for(var e=0;e<s.length;e++)if(0==s[e].indexOf("projectid=")){window.tildaprojectid=s[e].slice(10);break}}}void 0===window.lang&&(void 0===window.$lang?window.lang="EN":window.lang=window.$lang);n=b.extend(!0,{},t,n),i.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity),void 0!==n.position&&b.each(n.position.split(" "),function(){i.addClass("minicolors-position-"+this)});a="rgb"===n.format?n.opacity?"25":"20":n.keywords?"11":"7";o.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).wrap(i);t=o.parent();n.inline||(o.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),o.next(".minicolors-input-swatch").eq(0).on("click",function(i){i.preventDefault(),o.trigger("focus")}));p(o,!1),!1===o.data("minicolors-initialized")&&o.on("click focus",function(i){var t,s;i.preventDefault(),o.data("minicolors-initialized")?1===(r=o.parent().find(".minicolors-panel")).length&&c(r,n):(o.prop("size",a).after('<div class="minicolors__dropzone"></div><div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),(r=o.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),c(r,n),t=!0,i=(s=(i=o).parents(".minicolors")).find(".minicolors-swatches"),b(i).sortable({items:"li",connectWith:".minicolors__dropzone",placeholder:"minicolors__swatch-placeholder",over:function(i){t=!0,b(i.currentTarget).find(".minicolors__swatch-placeholder").html("")},out:function(i){t=!1,b(i.currentTarget).find(".minicolors__swatch-placeholder").html('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 102 102"><path fill="#000" stroke="#000" stroke-width="2" d="M83.93 15.28L50.55 48.65 17.33 15.44a1.46 1.46 0 00-2.06 2.06L48.5 50.7 15.27 83.92A1.46 1.46 0 0017.33 86l33.22-33.22 33.38 33.38a1.46 1.46 0 002.06-2.06L52.6 50.71l33.38-33.37a1.46 1.46 0 10-2.06-2.06z"/></svg>')},beforeStop:function(i,o){t||(o.item.remove(),setTimeout(function(){!function(i){var i=i.find(".minicolors-panel"),t=[];i.css("overflow","hidden"),i.find(".minicolors-swatches li").each(function(i,o){t.push(z(b(o).css("background-color")))}),0<t.length?window.tMinicolors[window.tildaprojectid]=t:delete window.tMinicolors[window.tildaprojectid];0===Object.keys(window.tMinicolors).length?localStorage.removeItem("tMinicolors"):localStorage.setItem("tMinicolors",JSON.stringify(window.tMinicolors));i.find("ul.minicolors-swatches li").length<=7&&i.find(".minicolors__swatch-plus").css("display","block");i.css("overflow","")}(s)},50))}}).disableSelection(),p(o,!1),r.on("click",".minicolors__swatch-link",function(){window.open("https://tilda.cc/"+("RU"===window.lang?"ru/":"")+"colors/","_blank")}),r.on("mousedown touchstart",".minicolors-input-swatch",function(i){var o=b(this).parent().find(".minicolors-input");i.preventDefault(),l(o)}),r.on("click",".minicolors__swatch-plus",function(i){i.preventDefault();i=b(this).parents(".minicolors").find(".minicolors-input");p(i),function(i){var o=i.parent(),t=i.val();""===t&&(t="#000000");i=window.tMinicolors[window.tildaprojectid]||[];i.push(t),window.tMinicolors[window.tildaprojectid]=i.filter(function(i,o,t){return t.indexOf(i)===o}),localStorage.setItem("tMinicolors",JSON.stringify(window.tMinicolors));i=o.find("ul.minicolors-swatches li:last");0===i.length?(i=b("ul.minicolors-swatches"),b('<li class="minicolors__swatch minicolors-sprite" style="background:'+t+'"><span class="minicolors-swatch-color"></span></li>').prependTo(i).data("swatch-color",t).find(".minicolors-swatch-color").css({backgroundColor:t,opacity:1})):b('<li class="minicolors__swatch minicolors-sprite" style="background:'+t+'"><span class="minicolors-swatch-color"></span></li>').insertAfter(i).data("swatch-color",t).find(".minicolors-swatch-color").css({backgroundColor:t,opacity:1});.9<u(O(t)).l&&o.find("ul.minicolors-swatches li:last").children().css("box-shadow","0 0 0 1px rgba(0, 0, 0, 0.33)");8<=o.find("ul.minicolors-swatches li").length?o.find(".minicolors__swatch-plus").css("display","none"):o.find(".minicolors__swatch-plus").css("display","block")}(i)}),r.on("click",".minicolors-swatches li",function(i){i.preventDefault();var o=b(this),i=o.parents(".minicolors").find(".minicolors-input"),o=o.data("swatch-color");y(i,o,I(o)),p(i)}),o.on("focus",function(){var i=b(this);i.data("minicolors-initialized")&&l(i)}).on("blur",function(){var i,o,t,s=b(this),n=s.data("minicolors-settings");s.data("minicolors-initialized")&&(i=n.keywords?b.map(n.keywords.split(","),function(i){return i.toLowerCase().trim()}):[],t=""!==s.val()&&-1<b.inArray(s.val().toLowerCase(),i)?s.val():null===(o=j(s.val())?C(s.val(),!0):(t=x(s.val(),!0))?O(t):null)?n.defaultValue:"rgb"===n.format?n.opacity?C("rgba("+o.r+","+o.g+","+o.b+","+s.attr("data-opacity")+")"):C("rgb("+o.r+","+o.g+","+o.b+")"):g(o),o=n.opacity?s.attr("data-opacity"):1,"transparent"===t.toLowerCase()&&(o=0),s.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",o),s.val(t),""===s.val()&&s.val(_(n.defaultValue,!0)),s.val(k(s.val(),n.letterCase)))}).on("keydown",function(i){var o=b(this);if(o.data("minicolors-initialized"))switch(i.which){case 9:d();break;case 13:break;case 27:d(),o.trigger("blur")}}).on("keyup",function(){var i=b(this);i.data("minicolors-initialized")&&p(i,!0)}).on("paste",function(){var i=b(this);i.data("minicolors-initialized")&&setTimeout(function(){p(i,!0)},1)}),o.data("minicolors-initialized",!0),o.trigger("focus"))});n.inline&&(t.addClass("minicolors-inline"),o.trigger("click"))}(b(this),o)}),b(this)}}}),b([document]).on("mousedown.minicolors touchstart.minicolors",function(i){b(i.target).parents().addBack().hasClass("minicolors")||d()}).on("mousedown touchstart",".minicolors .minicolors-grid, .minicolors .minicolors-slider, .minicolors-opacity-slider",function(i){var o=b(this);i.preventDefault(),b(i.delegateTarget).data("minicolors-target",o),s(o,i,!0)}).on("mousemove.minicolors touchmove.minicolors",function(i){var o=b(i.delegateTarget).data("minicolors-target");o&&s(o,i)}).on("mouseup.minicolors touchend.minicolors",function(){b(this).removeData("minicolors-target")})});
